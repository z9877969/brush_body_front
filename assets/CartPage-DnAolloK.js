import{r as f,j as s,c as u,a as g,u as C,e as k,f as S,M as I,g as q,h as B,i as y,k as F,t as $,C as O}from"./index-5hnz9Jc0.js";import{B as v}from"./Button-BJq49z0c.js";const T="_cartBlock_9qshn_91",U={cartBlock:T},z="_itemproduct_eplw1_90",R="_itemInfo_eplw1_107",E="_counter_eplw1_118",V="_classSvg_eplw1_137",L="_itemImg_eplw1_142",M="_itemName_eplw1_157",A="_itemDetails_eplw1_174",Q="_prices_eplw1_182",W="_itemPrice_eplw1_198",G="_itemPriceDisc_eplw1_198",H="_itemDiscPrice_eplw1_209",J="_deleteBtn_eplw1_216",K="_itemFooter_eplw1_239",X="_btnTest_eplw1_244",n={itemproduct:z,itemInfo:R,counter:E,classSvg:V,itemImg:L,itemName:M,itemDetails:A,prices:Q,itemPrice:W,itemPriceDisc:G,itemDiscPrice:H,deleteBtn:J,itemFooter:K,btnTest:X},Y="_btn_1s2iz_90",p={btn:Y},Z=({classWrapper:t,classBtn:e,classTable:a,classSvg:o,value:d,disabledDecr:c,disabledIncrem:r,changeCount:h})=>{const[l,_]=f.useState(d),j=()=>{if(l>1&&!c){const m=l-1;_(m),h(m)}},x=()=>{if(!r){const m=l+1;_(m),h(m)}};return s.jsxs("div",{className:u(p.counterWrapper,t&&t),children:[s.jsx("button",{disabled:l<=1||c,className:u(p.btn,e&&e),onClick:j,children:s.jsx("svg",{className:u(p.svg,o&&o),children:s.jsx("use",{href:g+"#icon-minus"})})}),s.jsx("span",{className:u(p.table,a&&a),children:l}),s.jsx("button",{disabled:r,className:u(p.btn,e&&e),onClick:x,children:s.jsx("svg",{className:u(p.svg,o&&o),children:s.jsx("use",{href:g+"#icon-plus"})})})]})},ss=({data:t,changeCount:e,onClickDelete:a,onClickAdd:o})=>t.map(({id:c,image:r,quantity:h,name:l,color:_,price:j,discounted_price:x,flavor:m,volume:N,isDisabledIncrement:w})=>s.jsxs("li",{className:n.itemproduct,id:c,children:[s.jsx("img",{className:n.itemImg,src:r,alt:l}),s.jsxs("div",{className:n.itemInfo,children:[s.jsxs("div",{children:[s.jsx("p",{className:n.itemName,children:l}),s.jsxs("div",{className:n.itemDetails,children:[m&&s.jsxs("p",{className:n.itemFlavor,children:["Смак: ",m]}),N&&s.jsxs("p",{className:n.itemVol,children:["об’єм: ",N]}),_&&s.jsxs("p",{className:n.itemColor,children:["Колір: ",_]})]})]}),s.jsxs("div",{className:n.prices,children:[x&&s.jsxs("p",{className:n.itemDiscPrice,children:[x," грн"]}),x?s.jsxs("p",{className:n.itemPriceDisc,children:[j," грн"]}):s.jsxs("p",{className:n.itemPrice,children:[j," грн"]})]}),s.jsxs("div",{className:n.itemFooter,children:[s.jsx(Z,{classWrapper:n.counter,classSvg:n.classSvg,value:h,changeCount:D=>e({id:c,newCount:D}),disabledIncrem:w}),s.jsx("button",{type:"button",className:n.deleteBtn,onClick:()=>a(c),children:s.jsx("svg",{children:s.jsx("use",{href:g+"#icon-delete"})})}),s.jsx("button",{className:n.btnTest,type:"submit",onClick:()=>o({id:c,image:r,quantity:h,name:l,color:_,price:j,discounted_price:x,flavor:m,volume:N}),children:"Test btn"})]})]})]},c)),es="_listOrederdProducts_3s7u7_90",ts={listOrederdProducts:es},cs=t=>t.cart.products,ns=t=>t.cart.totalPrice,os=()=>{const t=C(cs),e=k(),a=(c,r)=>{e(q(c,r))};f.useEffect(()=>{e(S())},[e]);const o=c=>{e(B({id:c}))},d=c=>{e(y(c))};return s.jsxs("section",{children:[s.jsx(I,{title:"Мій кошик"}),s.jsx("ul",{className:ts.listOrederdProducts,children:s.jsx(ss,{data:t,changeCount:a,onClickDelete:o,onClickAdd:d})})]})},is="_boxUsedPromo_b1z9a_90",rs="_boxInfo_b1z9a_109",as="_infoPrice_b1z9a_120",ls="_infoPriceFigure_b1z9a_124",ms="_deactivatedPromoBtn_b1z9a_125",b={boxUsedPromo:is,boxInfo:rs,infoPrice:as,infoPriceFigure:ls,deactivatedPromoBtn:ms},ds=({onClick:t,priceDisc:e})=>s.jsxs("div",{className:b.boxUsedPromo,children:[s.jsxs("div",{children:[s.jsx("p",{className:b.boxInfo,children:"Ваш промокод застосовано"}),s.jsxs("p",{className:b.infoPrice,children:["Знижка ",s.jsxs("span",{className:b.infoPriceFigure,children:[e," грн"]})]})]}),s.jsx("button",{type:"button",className:b.deactivatedPromoBtn,onClick:t,children:"Скасувати"})]}),_s="_input_mqaca_90",xs="_sectionPromo_mqaca_103",us="_form_mqaca_103",ps="_btn_mqaca_118",P={input:_s,sectionPromo:xs,form:us,btn:ps},hs=({priceDisc:t})=>{const[e,a]=f.useState(!1),o=F({initialValues:{promoCode:""},validate:c=>{const r={};return c.promoCode.length===0&&(r.promoCode="Промокод є обов'язковим"),r},onSubmit:c=>(a(!0),c)}),d=()=>{a(!1)};return s.jsxs("section",{className:P.sectionPromo,children:[s.jsxs("form",{className:P.form,onSubmit:o.handleSubmit,children:[s.jsx("div",{children:s.jsx("input",{className:P.input,type:"text",name:"promoCode",placeholder:"Промокод",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.promoCode})}),s.jsx(v,{title:"Застосувати",className:P.btn,type:"submit",disabled:!o.isValid||o.values.promoCode.trim()===""})]}),e&&s.jsx(ds,{priceDisc:t,onClick:d})]})},js="_boxSummary_dgqnw_90",bs="_boxSum_dgqnw_90",Ps="_lastP_dgqnw_116",Ns="_tittle_dgqnw_135",gs="_tittleDisc_dgqnw_139",fs="_priceDisc_dgqnw_140",Cs="_price_dgqnw_140",vs="_total_dgqnw_149",ws="_btn_dgqnw_170",Ds="_accept_dgqnw_180",i={boxSummary:js,boxSum:bs,lastP:Ps,tittle:Ns,tittleDisc:gs,priceDisc:fs,price:Cs,total:vs,btn:ws,accept:Ds},ks=({totalPrice:t,priceDisc:e})=>s.jsxs("section",{className:i.boxSummary,children:[s.jsxs("div",{className:i.boxSum,children:[s.jsxs("div",{children:[s.jsx("p",{className:i.tittle,children:"Сума замовлення"}),s.jsxs("p",{className:i.price,children:[t," грн"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:i.tittleDisc,children:"Ваша знижка"}),s.jsxs("p",{className:i.priceDisc,children:[e," грн"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:i.tittle,children:"Вартість доставки"}),s.jsx("p",{className:i.lastP,children:"за тарифами перевізника"})]})]}),s.jsxs("div",{className:i.total,children:[s.jsx("p",{children:"Загальна сума"}),s.jsxs("p",{children:[t," грн"]})]}),s.jsx(v,{type:"submit",title:"Оформити замовлення",className:i.btn}),s.jsx("p",{className:i.accept,children:"* Натискаючи на кнопку, я погоджуюсь з умовами обробки персональних даних"})]}),Ss="_blockRight_1ur18_91",Is={blockRight:Ss},qs=()=>{const t=C(ns),e=$(t);return s.jsxs("section",{className:Is.blockRight,children:[s.jsx(hs,{priceDisc:e}),s.jsx(ks,{totalPrice:t,priceDisc:e})]})},Bs=()=>s.jsx("section",{children:s.jsxs(O,{className:U.cartBlock,children:[s.jsxs("section",{children:[s.jsx(os,{}),s.jsx("p",{children:"component forms"}),s.jsx("p",{children:"component delivery"})]}),s.jsx(qs,{})]})}),$s=()=>s.jsx(s.Fragment,{children:s.jsx(Bs,{})});export{$s as default};
