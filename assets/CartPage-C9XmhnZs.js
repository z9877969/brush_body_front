import{r as f,j as s,c as x,a as g,u as C,e as S,f as w,M as I,g as B,h as y,i as F,k as $,t as O,C as T}from"./index-CSrUV8Cw.js";import{B as v}from"./Button-BJqm9HVf.js";const U="_cartBlock_1m2fj_79",R={cartBlock:U},E="_itemproduct_rg96w_78",V="_itemInfo_rg96w_95",L="_counter_rg96w_106",M="_classSvg_rg96w_125",A="_itemImg_rg96w_130",Q="_itemName_rg96w_145",W="_itemDetails_rg96w_162",z="_prices_rg96w_170",G="_itemPrice_rg96w_186",H="_itemPriceDisc_rg96w_186",J="_itemDiscPrice_rg96w_197",K="_deleteBtn_rg96w_204",X="_itemFooter_rg96w_227",Y="_btnTest_rg96w_232",n={itemproduct:E,itemInfo:V,counter:L,classSvg:M,itemImg:A,itemName:Q,itemDetails:W,prices:z,itemPrice:G,itemPriceDisc:H,itemDiscPrice:J,deleteBtn:K,itemFooter:X,btnTest:Y},Z="_btn_1br6e_78",p={btn:Z},q=({classWrapper:t,classBtn:e,classTable:a,classSvg:o,value:d,disabledDecr:c,disabledIncrem:r,changeCount:h})=>{const[l,_]=f.useState(d),j=()=>{if(l>1&&!c){const m=l-1;_(m),h(m)}},u=()=>{if(!r){const m=l+1;_(m),h(m)}};return s.jsxs("div",{className:x(p.counterWrapper,t&&t),children:[s.jsx("button",{disabled:l<=1||c,className:x(p.btn,e&&e),onClick:j,children:s.jsx("svg",{className:x(p.svg,o&&o),children:s.jsx("use",{href:g+"#icon-minus"})})}),s.jsx("span",{className:x(p.table,a&&a),children:l}),s.jsx("button",{disabled:r,className:x(p.btn,e&&e),onClick:u,children:s.jsx("svg",{className:x(p.svg,o&&o),children:s.jsx("use",{href:g+"#icon-plus"})})})]})},ss=({data:t,changeCount:e,onClickDelete:a,onClickAdd:o})=>t.map(({id:c,image:r,quantity:h,name:l,color:_,price:j,discounted_price:u,flavor:m,volume:N,isDisabledIncrement:D})=>s.jsxs("li",{className:n.itemproduct,id:c,children:[s.jsx("img",{className:n.itemImg,src:r,alt:l}),s.jsxs("div",{className:n.itemInfo,children:[s.jsxs("div",{children:[s.jsx("p",{className:n.itemName,children:l}),s.jsxs("div",{className:n.itemDetails,children:[m&&s.jsxs("p",{className:n.itemFlavor,children:["Смак: ",m]}),N&&s.jsxs("p",{className:n.itemVol,children:["об’єм: ",N]}),_&&s.jsxs("p",{className:n.itemColor,children:["Колір: ",_]})]})]}),s.jsxs("div",{className:n.prices,children:[u&&s.jsxs("p",{className:n.itemDiscPrice,children:[u," грн"]}),u?s.jsxs("p",{className:n.itemPriceDisc,children:[j," грн"]}):s.jsxs("p",{className:n.itemPrice,children:[j," грн"]})]}),s.jsxs("div",{className:n.itemFooter,children:[s.jsx(q,{classWrapper:n.counter,classSvg:n.classSvg,value:h,changeCount:k=>e({id:c,newCount:k}),disabledIncrem:D}),s.jsx("button",{type:"button",className:n.deleteBtn,onClick:()=>a(c),children:s.jsx("svg",{children:s.jsx("use",{href:g+"#icon-delete"})})}),s.jsx("button",{className:n.btnTest,type:"submit",onClick:()=>o({id:c,image:r,quantity:h,name:l,color:_,price:j,discounted_price:u,flavor:m,volume:N}),children:"Test btn"})]})]})]},c)),es="_listOrederdProducts_4i974_78",ts={listOrederdProducts:es},cs=t=>t.cart.products,ns=t=>t.cart.totalPrice,os=()=>{const t=C(cs),e=S(),a=(c,r)=>{e(B(c,r))};f.useEffect(()=>{e(w())},[e]);const o=c=>{e(y({id:c}))},d=c=>{e(F(c))};return s.jsxs("section",{children:[s.jsx(I,{title:"Мій кошик"}),s.jsx("ul",{className:ts.listOrederdProducts,children:s.jsx(ss,{data:t,changeCount:a,onClickDelete:o,onClickAdd:d})})]})},is="_boxUsedPromo_kl9lm_78",rs="_boxInfo_kl9lm_97",as="_infoPrice_kl9lm_108",ls="_infoPriceFigure_kl9lm_112",ms="_deactivatedPromoBtn_kl9lm_113",b={boxUsedPromo:is,boxInfo:rs,infoPrice:as,infoPriceFigure:ls,deactivatedPromoBtn:ms},ds=({onClick:t,priceDisc:e})=>s.jsxs("div",{className:b.boxUsedPromo,children:[s.jsxs("div",{children:[s.jsx("p",{className:b.boxInfo,children:"Ваш промокод застосовано"}),s.jsxs("p",{className:b.infoPrice,children:["Знижка ",s.jsxs("span",{className:b.infoPriceFigure,children:[e," грн"]})]})]}),s.jsx("button",{type:"button",className:b.deactivatedPromoBtn,onClick:t,children:"Скасувати"})]}),_s="_input_d8mun_78",us="_sectionPromo_d8mun_91",xs="_form_d8mun_91",ps="_btn_d8mun_106",P={input:_s,sectionPromo:us,form:xs,btn:ps},hs=({priceDisc:t})=>{const[e,a]=f.useState(!1),o=$({initialValues:{promoCode:""},validate:c=>{const r={};return c.promoCode.length===0&&(r.promoCode="Промокод є обов'язковим"),r},onSubmit:c=>(a(!0),c)}),d=()=>{a(!1)};return s.jsxs("section",{className:P.sectionPromo,children:[s.jsxs("form",{className:P.form,onSubmit:o.handleSubmit,children:[s.jsx("div",{children:s.jsx("input",{className:P.input,type:"text",name:"promoCode",placeholder:"Промокод",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.promoCode})}),s.jsx(v,{title:"Застосувати",className:P.btn,type:"submit",disabled:!o.isValid||o.values.promoCode.trim()===""})]}),e&&s.jsx(ds,{priceDisc:t,onClick:d})]})},js="_boxSummary_bcpnc_78",bs="_boxSum_bcpnc_78",Ps="_lastP_bcpnc_104",Ns="_tittle_bcpnc_123",gs="_tittleDisc_bcpnc_127",fs="_priceDisc_bcpnc_128",Cs="_price_bcpnc_128",vs="_total_bcpnc_137",Ds="_btn_bcpnc_158",ks="_accept_bcpnc_168",i={boxSummary:js,boxSum:bs,lastP:Ps,tittle:Ns,tittleDisc:gs,priceDisc:fs,price:Cs,total:vs,btn:Ds,accept:ks},Ss=({totalPrice:t,priceDisc:e})=>s.jsxs("section",{className:i.boxSummary,children:[s.jsxs("div",{className:i.boxSum,children:[s.jsxs("div",{children:[s.jsx("p",{className:i.tittle,children:"Сума замовлення"}),s.jsxs("p",{className:i.price,children:[t," грн"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:i.tittleDisc,children:"Ваша знижка"}),s.jsxs("p",{className:i.priceDisc,children:[e," грн"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:i.tittle,children:"Вартість доставки"}),s.jsx("p",{className:i.lastP,children:"за тарифами перевізника"})]})]}),s.jsxs("div",{className:i.total,children:[s.jsx("p",{children:"Загальна сума"}),s.jsxs("p",{children:[t," грн"]})]}),s.jsx(v,{type:"submit",title:"Оформити замовлення",className:i.btn}),s.jsx("p",{className:i.accept,children:"* Натискаючи на кнопку, я погоджуюсь з умовами обробки персональних даних"})]}),ws="_blockRight_f9oj7_79",Is={blockRight:ws},Bs=()=>{const t=C(ns),e=O(t);return s.jsxs("section",{className:Is.blockRight,children:[s.jsx(hs,{priceDisc:e}),s.jsx(Ss,{totalPrice:t,priceDisc:e})]})},ys=()=>s.jsx("section",{children:s.jsxs(T,{className:R.cartBlock,children:[s.jsxs("section",{children:[s.jsx(os,{}),s.jsx("p",{children:"component forms"}),s.jsx("p",{children:"component delivery"})]}),s.jsx(Bs,{})]})}),Os=()=>s.jsx(s.Fragment,{children:s.jsx(ys,{})});export{Os as default};
