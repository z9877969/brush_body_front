import{r as y,j as e,c as x,f as p,a as F,g as n,h as v,u as S,i as E,M as T,k as V,l as q,m as B,n as C,o as P,p as O,q as g,t as k,v as m,w as U,x as R,y as j,z as M,A as r,S as z,C as G,B as H}from"./index-Ciq39SVs.js";import{B as $}from"./Button-BRd8TlJe.js";const W=({classWrapper:a,classBtn:t,classTable:s,classSvg:c,value:o,disabledDecr:l,disabledIncrem:u,changeCount:d})=>{const[i,N]=y.useState(o),b=()=>{if(i>1&&!l){const h=i-1;N(h),d(h)}},f=()=>{if(!u){const h=i+1;N(h),d(h)}};return e.jsxs("div",{className:x(p.counterWrapper,a&&a),children:[e.jsx("button",{disabled:i<=1||l,className:x(p.btn,t&&t),onClick:b,children:e.jsx("svg",{className:x(p.svg,c&&c),children:e.jsx("use",{href:F+"#icon-minus"})})}),e.jsx("span",{className:x(p.table,s&&s),children:i}),e.jsx("button",{disabled:u,className:x(p.btn,t&&t),onClick:f,children:e.jsx("svg",{className:x(p.svg,c&&c),children:e.jsx("use",{href:F+"#icon-plus"})})})]})},A=({data:a,changeCount:t,onClickDelete:s})=>a.map(({id:o,image:l,quantity:u,name:d,color:i,price:N,discounted_price:b,flavor:f,volume:h,isDisabledIncrement:L})=>e.jsxs("li",{className:n.itemproduct,id:o,children:[e.jsx("img",{className:n.itemImg,src:l,alt:d}),e.jsxs("div",{className:n.itemInfo,children:[e.jsxs("div",{children:[e.jsx("p",{className:n.itemName,children:d}),e.jsxs("div",{className:n.itemDetails,children:[f&&e.jsxs("p",{className:n.itemFlavor,children:["Смак: ",f]}),h&&e.jsxs("p",{className:n.itemVol,children:["об’єм: ",h]}),i&&e.jsxs("p",{className:n.itemColor,children:["Колір: ",i]})]})]}),e.jsxs("div",{className:n.prices,children:[b&&e.jsxs("p",{className:n.itemDiscPrice,children:[b," грн"]}),b?e.jsxs("p",{className:n.itemPriceDisc,children:[N," грн"]}):e.jsxs("p",{className:n.itemPrice,children:[N," грн"]})]}),e.jsxs("div",{className:n.itemFooter,children:[e.jsx(W,{classWrapper:n.counter,classSvg:n.classSvg,value:u,changeCount:I=>t({id:o,newCount:I}),disabledIncrem:L}),e.jsx("button",{type:"button",className:n.deleteBtn,onClick:()=>s(o),children:e.jsx("svg",{children:e.jsx("use",{href:F+"#icon-delete"})})})]})]})]},o)),J=a=>a.cart.products,w=a=>a.cart.totalPrice,D=a=>a.cart.discount,Q=()=>{const a=v(J),t=S(),s=(o,l)=>{t(q(o,l))};y.useEffect(()=>{t(E())},[t]);const c=o=>{t(B({id:o}))};return e.jsxs("section",{children:[e.jsx(T,{title:"Мій кошик"}),e.jsx("ul",{className:V.listOrederdProducts,children:e.jsx(A,{data:a,changeCount:s,onClickDelete:c})})]})},K=({onClick:a})=>{const t=v(D);return e.jsxs("div",{className:C.boxUsedPromo,children:[e.jsxs("div",{children:[e.jsx("p",{className:C.boxInfo,children:"Ваш промокод застосовано"}),e.jsxs("p",{className:C.infoPrice,children:["Знижка ",e.jsxs("span",{className:C.infoPriceFigure,children:[t," грн"]})]})]}),e.jsx("button",{type:"button",className:C.deactivatedPromoBtn,onClick:a,children:"Скасувати"})]})},X=({priceDisc:a})=>{const[t,s]=y.useState(!1),c=v(w),o=S(),l=P({initialValues:{promoCode:""},validate:d=>{const i={};return d.promoCode.length===0&&(i.promoCode="Промокод є обов'язковим"),i},onSubmit:d=>(s(!0),o(O({values:d,total:c})),d)}),u=()=>{s(!1),o(k())};return e.jsxs("section",{className:g.sectionPromo,children:[e.jsxs("form",{className:g.form,onSubmit:l.handleSubmit,children:[e.jsx("div",{children:e.jsx("input",{className:g.input,type:"text",name:"promoCode",placeholder:"Промокод",onChange:l.handleChange,onBlur:l.handleBlur,value:l.values.promoCode})}),e.jsx($,{title:"Застосувати",className:g.btn,type:"submit",disabled:!l.isValid||l.values.promoCode.trim()===""})]}),t&&e.jsx(K,{priceDisc:a,onClick:u})]})},Y=()=>{const a=v(D),t=v(w),s=t-a;return e.jsxs("section",{className:m.boxSummary,children:[e.jsxs("div",{className:m.boxSum,children:[e.jsxs("div",{children:[e.jsx("p",{className:m.tittle,children:"Сума замовлення"}),e.jsxs("p",{className:m.price,children:[t," грн"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:m.tittleDisc,children:"Ваша знижка"}),e.jsxs("p",{className:m.priceDisc,children:[a," грн"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:m.tittle,children:"Вартість доставки"}),e.jsx("p",{className:m.lastP,children:"за тарифами перевізника"})]})]}),e.jsxs("div",{className:m.total,children:[e.jsx("p",{children:"Загальна сума"}),e.jsxs("p",{children:[s," грн"]})]}),e.jsx($,{type:"submit",title:"Оформити замовлення",className:m.btn}),e.jsx("p",{className:m.accept,children:"* Натискаючи на кнопку, я погоджуюсь з умовами обробки персональних даних"})]})},Z=()=>e.jsxs("section",{className:U.blockRight,children:[e.jsx(X,{}),e.jsx(Y,{})]}),_={container:a=>({...a,width:"100%",display:"flex",justifyContent:"flex-start",height:"48px",padding:"12px",alignItems:"center",borderRadius:"16px",border:"1px solid rgba(31, 31, 31, 0.2)","@media (min-width: 1440px)":{backgroundColor:"#fff",border:"none"}}),control:a=>({...a,backgroundColor:"transparent",width:"100%",display:"flex",justifyContent:"space-between",outline:"none",border:"none","&:hover":{border:"none"},"&:focus":{border:"none"}}),valueContainer:a=>({...a,padding:0}),input:a=>({...a,padding:0}),dropdownIndicator:a=>({...a,color:"#797979",padding:0}),indicatorSeparator:a=>({...a,display:"none"}),option:a=>({...a,padding:"none",fontSize:"16px",lineHeight:"24px",color:"#797979",backgroundColor:"transparent","&:hover":{color:"#1f1f1f"},"&:focus":{color:"#1f1f1f"}}),menuList:a=>({...a,display:"flex",flexDirection:"column",borderRadius:"16px",padding:"12px",backgroundColor:"#fff",gap:"8px","@media (min-width: 1440px)":{backgroundColor:"#fff",border:"none"}})},ee=[{label:"one",value:1,className:"custom-class"},{label:"two",value:2,className:"awesome-class"}],se=()=>{const t=R().shape({name:j().min(5,"Введіть повністю ПІБ").max(50,"Занадто довге ПІБ").required("Поле обов`язкове для заповнення"),email:j().email("Введіть дійсну адресу ел. пошти").required("Поле обов`язкове для заповнення"),phone:j().matches(/^\+?3?8?(0\d{9})$/,"Введіть коректний номер телефону").required("Поле обов`язкове для заповнення"),city:j().required("Поле обов`язкове для заповнення"),department:j().required("Поле обов`язкове для заповнення"),comments:j().max(300,"Коментар може містити максимум 300 символів"),show:M()}),s=P({initialValues:{name:"",email:"",phone:"+380",city:"",department:"",comments:"",show:!1},validationSchema:t,onSubmit:c=>{alert(JSON.stringify(c,null,2))}});return e.jsxs("div",{className:r.cartForm,children:[e.jsx("h4",{className:r.cartFormsTitle,children:"Оформлення замовлення"}),e.jsx("p",{className:r.cartFormText,children:"Заповніть контактні дані та адресу доставки"}),e.jsxs("form",{className:r.cartformData,onSubmit:s.handleSubmit,children:[e.jsxs("label",{className:`${r.cartFormLabel} ${s.touched.name&&s.errors.name?r.error:""}`,children:[e.jsx("span",{className:r.cartFormSpan,children:"ПІБ"}),e.jsx("input",{type:"text",name:"name",placeholder:"Приходько Анжеліка Миколаївна",onChange:s.handleChange,value:s.values.name}),s.touched.name&&s.errors.name&&e.jsx("div",{className:r.cartFormError,children:s.errors.name})]}),e.jsxs("div",{className:r.cartFormInput2,children:[e.jsxs("label",{className:`${r.cartFormLabel} ${s.touched.email&&s.errors.email?r.error:""}`,children:[e.jsx("span",{className:r.cartFormSpan,children:"Електронна пошта"}),e.jsx("input",{type:"email",name:"email",onChange:s.handleChange,value:s.values.email}),s.touched.name&&s.errors.email&&e.jsx("div",{className:r.cartFormError,children:s.errors.email})]}),e.jsxs("label",{className:`${r.cartFormLabel} ${s.touched.phone&&s.errors.phone?r.error:""}`,children:[e.jsx("span",{className:r.cartFormSpan,children:"Телефон"}),e.jsx("input",{type:"tel",name:"phone",onChange:s.handleChange,value:s.values.phone}),s.touched.name&&s.errors.phone&&e.jsx("div",{className:r.cartFormError,children:s.errors.phone})]})]}),e.jsxs("label",{className:`${r.cartFormLabel} ${s.touched.city&&s.errors.city?r.error:""}`,children:[e.jsx("span",{className:r.cartFormSpan,children:"Місто"}),e.jsx("input",{type:"text",name:"city",onChange:s.handleChange,value:s.values.city}),s.touched.name&&s.errors.city&&e.jsx("div",{className:r.cartFormError,children:s.errors.city})]}),e.jsxs("label",{className:`${r.cartFormLabel} ${s.touched.department&&s.errors.department?r.error:""}`,children:[e.jsx("span",{className:r.cartFormSpan,children:"Відділення Нової пошти"}),e.jsx(z,{name:"department",options:ee,placeholder:"Обрати відділення...",styles:_,onChange:c=>s.setFieldValue("department",c.label)}),s.touched.name&&s.errors.department&&e.jsx("div",{className:r.cartFormError,children:s.errors.department})]}),e.jsxs("label",{className:r.cartFormLabel,children:[e.jsx("span",{className:r.cartFormSpan,children:"Коментар"}),e.jsx("div",{className:r.cartFormTextarea,children:e.jsx("textarea",{maxLength:300,name:"comments",rows:"5",onChange:s.handleChange,value:s.values.comments})}),e.jsxs("div",{className:r.cartFormTextareaSum,children:[s.values.comments.length,"/",300]})]}),e.jsxs("div",{className:r.cartFormCustomChekbox,children:[e.jsx("input",{className:x(r.cartFormInputCheckbox,r.visuallyHidden),type:"checkbox",name:"show",id:"show",onChange:()=>s.setFieldValue("show",!0)}),e.jsxs("label",{htmlFor:"show",className:r.checkText,children:[e.jsx("span",{className:r.cartFormCheckboxBG,children:e.jsx("svg",{className:r.cartFormSVG,children:e.jsx("use",{href:F+"#icon-checkmark1"})})}),"Зберегти цю інформацію для наступного разу"]})]}),e.jsx("button",{type:"submit",children:"Submit"})]})]})},ae=()=>{const a=S();return y.useEffect(()=>{a(k())},[a]),e.jsx("section",{children:e.jsxs(G,{className:H.cartBlock,children:[e.jsxs("section",{children:[e.jsx(Q,{}),e.jsx(se,{}),e.jsx("p",{children:"component delivery"})]}),e.jsx(Z,{})]})})},ne=()=>e.jsx(e.Fragment,{children:e.jsx(ae,{})});export{ne as default};
